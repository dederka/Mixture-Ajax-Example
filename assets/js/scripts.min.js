window.mix=function(e,t){"use strict";var n,s,a,r={},o=function(e,t){e=e.split(" ");for(var n=0;n<e.length;n++)t(e[n],n)},i=function(){return e.addEventListener?"ontouchstart"in e?"touchstart":"click":"click"};return t.documentElement.classList?(n=function(e,t){return e.classList.contains(t)},s=function(e,t){e.classList.add(t)},a=function(e,t){e.classList.remove(t)}):(n=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},s=function(e,t){r.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},a=function(e,t){r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)*"+t+"(\\s|$)*","g"),""))}),r.hasClass=function(e,t){return n(e,t)},r.addClass=function(e,t){o(t,function(t){s(e,t)})},r.removeClass=function(e,t){o(t,function(t){a(e,t)})},r.attachEvent=function(t,n,s){e.addEventListener?t.addEventListener(n,s,!1):t.attachEvent("on"+n,s)},r.click=function(e,t){for(var n=0;n<e.length;n++)this.attachEvent(e[n],i(),t)},r.navigate=function(t){var n=new XMLHttpRequest,s=t.method||"get",a=t.dataType||"html",r=t.success,o=t.error,i=t.progress,l=t.historyUri,c=t.uriPrefix||null;l&&("pushState"in history?history.pushState(null,null,l):e.location.href=t.uri),n.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var e=this.response||this.responseText||this.responseXML;a.match(/json/gi)&&(e=JSON.parse(e)),r&&r(e)}else o&&o(this.status,this.statusText)},n.onprogress=function(e){i&&i(e)},n.onerror=function(e){o&&o(e.status,e.statusText)},n.open(s,c+t.uri),t.headers&&Object.keys(t.headers).forEach(function(e){n.setRequestHeader(e,t.headers[e])}),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t.data?urlstringify(t.data):null)},r}(window,document),function(e,t){"use strict";t.body.innerHTML='<div id="js-progress"></div>'+t.body.innerHTML;var n=function(e,t){if(e.lengthComputable){var n=e.loaded/e.total*100;n>100&&(n=100),t.style.opacity=n>=100||0>=n?0:1,t.style.width=n+"%"}else t.style.opacity=1,t.style.width="50%"},s=function(e,t,s){t.innerHTML=e;var a=t.querySelectorAll("img");if(a){var r=50,o=a.length,i=Math.ceil(50/o);n({lengthComputable:!0,loaded:r,total:100},s);for(var l=0;l<a.length;l++){r+=i;var c=new Image;c.onload=function(){n({lengthComputable:!0,loaded:r,total:100},s)},c.src=a[l].getAttribute("src")}}else n({lengthComputable:!0,loaded:100,total:100},s)},a=function(e,t){for(var n=0;n<e.length;n++)mix.removeClass(e[n].parentNode,"selected"),e[n].getAttribute("href")===t&&mix.addClass(e[n].parentNode,"selected")};if(e.addEventListener&&"pushState"in history){var r=location.href,o=!1;e.addEventListener("popstate",function(){var e=!o&&location.href==r;if(o=!0,!e){var i="/"===location.pathname?"/index":location.pathname,l=t.querySelectorAll("header a");a(l,i),mix.navigate({method:"get",uri:i,uriPrefix:"/fragment",success:function(e){s(e,t.getElementById("js-content"),t.getElementById("js-progress"))},error:function(e,t){console.log(e,t)},progress:function(e){n(e,t.getElementById("js-progress"))}})}},!1)}var i=t.querySelectorAll("header a");mix.click(i,function(e){n({lengthComputable:!0,loaded:0,total:100},t.getElementById("js-progress")),e.preventDefault();var r="/"===e.target.pathname?"/index":e.target.pathname;a(i,r),mix.navigate({method:"get",uri:r,uriPrefix:"/fragment",historyUri:e.target.pathname,success:function(e){s(e,t.getElementById("js-content"),t.getElementById("js-progress"))},error:function(e,t){console.log(e,t)},progress:function(e){n(e,t.getElementById("js-progress"))}})})}(window,document);